<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Crystal Collector</title>

    <!--Bootstrap-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    </head>
<body>

    
    <div class="container">
<!--"Crystal collector" top panel-->
        <div class="jumbotron" style="background-color: lavender; color:gray">
            <div class="container">
                <h1 class="text-center"><strong>Crystal Collector</strong></h1>
            </div>
        </div>
    
        <!--Main content-->
        <div class="row">

            <!--Instructions-->
            <div class="col-lg-12">
                <div class="panel panel-info">
                        <div class="panel-heading">
                            <h2 class="panel-title text-center">Instructions</h2>
                        </div>
                        <div class="panel-body"><p><small>You will be given a random number at the start of the game. 
                        There are four crystals below. By clicking on a crystal you will add a specific amount of points to your total score. 
                        You win the game by matching your total score to the random number, you lose the game if your total score goes above the random number.
                        The value of each crystal is hidden from you until you click on it.
                        Each time when the game starts, the game will change the values of each crystal.</small></p>
                        </div>
                </div>
            </div>
        </div>
    
        <!--Scores & crystals-->
        <div class="row">

            <!--Number to match-->
                <div class="col-md-2">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <h2 class="panel-title text-center">Number to match</h2></div>
                            <div class="panel-body"><h3 id="numberToMatch" class="text-center"></h3></div>
                        </div>
                    </div>
                </div>
        </div>
            
        
            <!--Score-->
            <div class="col-md-2">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <h2 class="panel-title text-center">Score</h2></div>
                            <div class="panel-body"><h3 id="score" class="text-center"></h3></div>
                        </div>
                    </div>
                </div>
        </div>

        
        <div class="row">
            <!--Crystals-->
            <div class="col-md-4">
                <div class="panel panel-info">
                    <div class="panel-heading">
                        <h2 class="panel-title text-center">Crystals</h2></div>
                        <div class="panel-body text-center">
                            <img id="crystal1" src="assets/images/crystal1.jpg" alt="Crystal 1" height="150" width="150">
                            <img id="crystal2" src="assets/images/crystal2.jpg" alt="Crystal 2" height="150" width="150">
                            <img id="crystal3" src="assets/images/crystal3.jpg" alt="Crystal 3" height="150" width="150">
                            <img id="crystal4" src="assets/images/crystal4.jpg" alt="Crystal 4" height="150" width="150">
                        </div>
                </div>
            </div>
        </div>
    
        <!--Counters-->
        <div class="row">
            <div class="col-lg-3">
                <div class="panel panel-info">
                    <div class="panel-heading">
                        <h2 class="panel-title text-center">Wins</h2></div>
                        <div class="panel-body"><h3 class="text-center">0</h3></div>
                    </div>
                </div>
            </div>

            <div class="col-lg-3">
                <div class="panel panel-info">
                    <div class="panel-heading">
                        <h2 class="panel-title text-center">Losses</h2></div>
                        <div class="panel-body"><h3 class="text-center">0</h3></div>
                    </div>
                </div>
            </div>
        </div>




</div>

<!--JS-->
        <script src="assets/javascript/game.js"></script>
<!--JQuery-->    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>

$(document).ready(function(){
// Global variable
//
//Crystal object
    var crystal = {
    crystal1:
    {
    name: "crystal1",
    value: 0
    },
    crystal2:
    {
    name: "crystal2",
    value: 0
    },
    crystal3:
    {
    name: "crystal3",
    value: 0
    },
    crystal4:
    {
    name: "crystal4",
    value: 0
    }
};

// Scores
var score = 0;
var numberToMatch = 0;

//Wins and losses 
var winCount = 0;
var lossCount = 0;

//Functions
//
var getRandom = function(min, max){
    return Math.floor(Math.random() * (min - max + 1)) + min;
        }

var startGame = function() {
    //Reset score
    score = 0;
    //set target score (between 20 and 120)
    console.log("to match: " + numberToMatch)
    numberToMatch = getRandom(20, 120);
    console.log(numberToMatch);
    //set different values for each of the crystals (between 1 and 2)
    crystal.crystal1.value = getRandom(1, 12);
    crystal.crystal2.value = getRandom(1, 12);
    crystal.crystal3.value = getRandom(1, 12);
    crystal.crystal4.value = getRandom(1, 12);
    
    //Change the HTML to reflect all of these changes
    $("#score").text(score.toString());
    $("#numberToMatch").text(numberToMatch.toString());

    //testing Console
    console.log("------------------------------------");
    console.log("Number to match: " + numberToMatch);
    console.log("crystal1: " + crystal.crystal1.value + ", crystal2: " + crystal.crystal2.value + ",  crystal3: " + crystal.crystal3.value + ",  crystal4: " + crystal.crystal4.value);
    console.log("------------------------------------");
    }

//Function to respond to clicks on crystals
    var addValues = function(crystal) {
//Change current score
    console.log(crystal)
    console.log("pre-assign score: " + score)
    
    score = score + crystal.value;
    console.log(score);
//Change/update the HTML to reflect
    $("#score").text = score;
    console.log("Your score: " + score)
    }
// Starts the game
    startGame();

    $("#crystal1").click(function(){
    addValues(crystal.crystal1);
    });

    $("#crystal2").click(function(){
    addValues(crystal.crystal2);
    });

    $("#crystal3").click(function(){
    addValues(crystal.crystal3);
    });

    $("#crystal4").click(function(){
    addValues(crystal.crystal4);
    });


});





</script>
    
</body>
</html>